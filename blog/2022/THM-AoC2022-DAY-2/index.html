<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>THM AoC 2022 DAY TWO | pfransozi.github.io</title> <meta name="author" content="Philipe Fransozi"> <meta name="description" content="walking through the second day's topics and diving deeper"> <meta property="og:site_name" content="pfransozi.github.io"> <meta property="og:type" content="website"> <meta property="og:title" content="pfransozi.github.io | THM AoC 2022 DAY TWO"> <meta property="og:url" content="https://pfransozi.github.io/blog/2022/THM-AoC2022-DAY-2/"> <meta property="og:description" content="walking through the second day's topics and diving deeper"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="THM AoC 2022 DAY TWO"> <meta name="twitter:description" content="walking through the second day's topics and diving deeper"> <script type="application/ld+json">
      {
        "author":
        {
          "@type": "Person",
          "name": "Philipe  Fransozi"
        },
        "url": "https://pfransozi.github.io/blog/2022/THM-AoC2022-DAY-2/",
        "@type": "WebSite",
        "description": "walking through the second day's topics and diving deeper",
        "headline": "THM AoC 2022 DAY TWO",
        "sameAs": ["https://tryhackme.com/p/OutroHomemComum", "https://github.com/pfransozi", "https://www.linkedin.com/in/philipehf"],
        "name": "Philipe  Fransozi",
        "@context": "https://schema.org"
      }
    </script> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://pfransozi.github.io/blog/2022/THM-AoC2022-DAY-2/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">pfransozi.github.io</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/links/">links</a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">THM AoC 2022 DAY TWO</h1> <p class="post-meta">December 10, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/log-analysis"> <i class="fas fa-hashtag fa-sm"></i> log-analysis</a>   <a href="/blog/tag/log-files"> <i class="fas fa-hashtag fa-sm"></i> log-files</a>   <a href="/blog/tag/tryhackme"> <i class="fas fa-hashtag fa-sm"></i> tryhackme</a>   </p> </header> <article class="post-content"> <h2 id="introduction">Introduction</h2> <p>The second day focuses on log analysis and the goals are:</p> <ul> <li> <strong>what</strong> log files are and <strong>why</strong> they’re useful;</li> <li> <strong>what</strong> valuable information log files can contain;</li> <li> <strong>where</strong> log files can be found;</li> <li>and some <strong>linux commands</strong> to handle with text log files;</li> </ul> <h2 id="log-files-and-log-analysis">Log files and log analysis</h2> <p>Log analysis is an important part of cybersecurity, since it can provide valuable insight into potential security threats, involving collection and analysis of various logs generated by various systems, networks, and applications to detect malicious activities and suspicious patterns. Log files can be used to detect intrusions, malware, malicious user activity, and operational errors. Through log analysis, organizations can identify potential security issues and take corrective measures to address them. Log analysis can also be used to detect patterns of malicious behavior and to track user activity for compliance purposes.</p> <p>In general, log files record data of an event triggered by an application or the own OS, such as:</p> <ul> <li>user logins and logouts;</li> <li>system startup and shutdown;</li> <li>application usage;</li> <li>configuration changes;</li> <li>security events;</li> <li>network traffic;</li> <li>system errors and warnings;</li> <li>user actions;</li> <li>resource utilization.</li> </ul> <p>And, in general, data recorded is:</p> <ul> <li>What has happened?</li> <li>When has it happened?</li> <li>Where has it happened?</li> <li>Who did it? Were they successful?</li> <li>What is the result of this action?</li> </ul> <p>Another important aspect of this topic is to know where the files are.</p> <p><strong>In Windows</strong>, log files are stored in:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">SystemRoot</span><span class="o">%</span><span class="nx">\System32\Winevt\Logs\</span><span class="w">
</span><span class="o">%</span><span class="n">SystemRoot</span><span class="o">%</span><span class="nx">\system32\config\</span><span class="w">
</span><span class="o">%</span><span class="n">SystemRoot</span><span class="o">%</span><span class="nx">\system32\LogFiles\</span><span class="w">
</span></code></pre></div></div> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span><span class="w">
</span><span class="c"># application log contains information about application events, </span><span class="w">
</span><span class="c"># such as when an application crashes or when an application writes an error to the log.</span><span class="w">
</span><span class="n">eventquery</span><span class="w"> </span><span class="nx">/FI</span><span class="w"> </span><span class="s2">"APPLICATION eq MyApplication"</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Information</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">MyApplication</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">1000</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:33:22</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">MyApplication</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">started</span><span class="w"> </span><span class="nx">successfully.</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Warning</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">MyApplication</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">1001</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:34:15</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">MyApplication</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">encountered</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">warning:</span><span class="w"> </span><span class="nx">The</span><span class="w"> </span><span class="nx">database</span><span class="w"> </span><span class="nx">connection</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">failed.</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Error</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">MyApplication</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">1002</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:35:01</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">MyApplication</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">encountered</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nx">error:</span><span class="w"> </span><span class="nx">The</span><span class="w"> </span><span class="nx">database</span><span class="w"> </span><span class="nx">connection</span><span class="w"> </span><span class="nx">could</span><span class="w"> </span><span class="nx">not</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">restored.</span><span class="w">
</span></code></pre></div></div> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span><span class="w">
</span><span class="c"># system log contains information about system-wide events, </span><span class="w">
</span><span class="c"># such as when a service starts or stops, or when a driver is installed.</span><span class="w">

</span><span class="n">eventquery</span><span class="w"> </span><span class="nx">/L</span><span class="w"> </span><span class="nx">system</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Information</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Service</span><span class="w"> </span><span class="nx">Control</span><span class="w"> </span><span class="nx">Manager</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">7036</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:37:22</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">The</span><span class="w"> </span><span class="nx">Network</span><span class="w"> </span><span class="nx">Connections</span><span class="w"> </span><span class="nx">service</span><span class="w"> </span><span class="nx">entered</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">running</span><span class="w"> </span><span class="nx">state.</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Warning</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Windows</span><span class="w"> </span><span class="nx">Update</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">1001</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:38:15</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">Windows</span><span class="w"> </span><span class="nx">Update</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">encountered</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">warning:</span><span class="w"> </span><span class="nx">Some</span><span class="w"> </span><span class="nx">updates</span><span class="w"> </span><span class="nx">could</span><span class="w"> </span><span class="nx">not</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">installed.</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Error</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">System</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">6008</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:39:01</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">The</span><span class="w"> </span><span class="nx">previous</span><span class="w"> </span><span class="nx">system</span><span class="w"> </span><span class="nx">shutdown</span><span class="w"> </span><span class="nx">at</span><span class="w"> </span><span class="nx">10:33:22</span><span class="w"> </span><span class="nx">AM</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="err">‎</span><span class="nx">12/</span><span class="err">‎</span><span class="nx">9/</span><span class="err">‎</span><span class="nx">2022</span><span class="w"> </span><span class="nx">was</span><span class="w"> </span><span class="nx">unexpected.</span><span class="w">

</span></code></pre></div></div> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span><span class="w">
</span><span class="c"># security log contains information about security-related events, </span><span class="w">
</span><span class="c"># such as when a user logs on or off, or when a user attempts to access a resource.</span><span class="w">

</span><span class="n">eventquery</span><span class="w"> </span><span class="nx">/L</span><span class="w"> </span><span class="nx">security</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Information</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Security</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">Logon/Logoff</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">4624</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:40:22</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">An</span><span class="w"> </span><span class="nx">account</span><span class="w"> </span><span class="nx">was</span><span class="w"> </span><span class="nx">successfully</span><span class="w"> </span><span class="nx">logged</span><span class="w"> </span><span class="nx">on.</span><span class="w">
</span><span class="n">Subject:</span><span class="w">
    </span><span class="nx">Security</span><span class="w"> </span><span class="nx">ID:</span><span class="w">  </span><span class="nx">MYDOMAIN\MyUser</span><span class="w">
    </span><span class="n">Account</span><span class="w"> </span><span class="nx">Name:</span><span class="w"> </span><span class="nx">MyUser</span><span class="w">
    </span><span class="n">Account</span><span class="w"> </span><span class="nx">Domain:</span><span class="w"> </span><span class="nx">MYDOMAIN</span><span class="w">
    </span><span class="n">Logon</span><span class="w"> </span><span class="nx">ID:</span><span class="w">  </span><span class="nx">0x1f44c</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Warning</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Security</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">Account</span><span class="w"> </span><span class="nx">Management</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">4740</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:41:15</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">A</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="nx">account</span><span class="w"> </span><span class="nx">was</span><span class="w"> </span><span class="nx">locked</span><span class="w"> </span><span class="nx">out.</span><span class="w">
</span><span class="n">Subject:</span><span class="w">
    </span><span class="nx">Security</span><span class="w"> </span><span class="nx">ID:</span><span class="w">  </span><span class="nx">MYDOMAIN\MyUser</span><span class="w">
    </span><span class="n">Account</span><span class="w"> </span><span class="nx">Name:</span><span class="w"> </span><span class="nx">MyUser</span><span class="w">
    </span><span class="n">Account</span><span class="w"> </span><span class="nx">Domain:</span><span class="w"> </span><span class="nx">MYDOMAIN</span><span class="w">
    </span><span class="n">Logon</span><span class="w"> </span><span class="nx">ID:</span><span class="w">  </span><span class="nx">0x1f44c</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Error</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Security</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">Access</span><span class="w"> </span><span class="nx">Control</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">4625</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:42:01</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">An</span><span class="w"> </span><span class="nx">account</span><span class="w"> </span><span class="nx">failed</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">log</span><span class="w"> </span><span class="nx">on.</span><span class="w">
</span><span class="n">Subject:</span><span class="w">
    </span><span class="nx">Security</span><span class="w"> </span><span class="nx">ID:</span><span class="w">  </span><span class="nx">NULL</span><span class="w"> </span><span class="nx">SID</span><span class="w">
    </span><span class="n">Account</span><span class="w"> </span><span class="nx">Name:</span><span class="w">  </span><span class="o">-</span><span class="w">
    </span><span class="n">Account</span><span class="w"> </span><span class="nx">Domain:</span><span class="w"> </span><span class="o">-</span><span class="w">
    </span><span class="n">Logon</span><span class="w"> </span><span class="nx">ID:</span><span class="w">  </span><span class="nx">0x0</span><span class="w">

</span></code></pre></div></div> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span><span class="w">
</span><span class="c"># setup log contains information about the setup and configuration of Windows,</span><span class="w">
</span><span class="c"># such as when an application is installed or uninstalled.</span><span class="w">

</span><span class="n">eventquery</span><span class="w"> </span><span class="nx">/L</span><span class="w"> </span><span class="nx">setup</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Information</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Microsoft-Windows-Setup</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">100</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:43:22</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">The</span><span class="w"> </span><span class="nx">installation</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">MyApplication</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">started.</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Warning</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Microsoft-Windows-Setup</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">101</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:44:15</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">The</span><span class="w"> </span><span class="nx">installation</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">MyApplication</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">encountered</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">warning:</span><span class="w"> </span><span class="nx">One</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="nx">more</span><span class="w"> </span><span class="nx">required</span><span class="w"> </span><span class="nx">files</span><span class="w"> </span><span class="nx">could</span><span class="w"> </span><span class="nx">not</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">found.</span><span class="w">

</span><span class="n">Event</span><span class="w"> </span><span class="nx">Type:</span><span class="w"> </span><span class="nx">Error</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Source:</span><span class="w"> </span><span class="nx">Microsoft-Windows-Setup</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">Category:</span><span class="w"> </span><span class="nx">None</span><span class="w">
</span><span class="n">Event</span><span class="w"> </span><span class="nx">ID:</span><span class="w"> </span><span class="nx">102</span><span class="w">
</span><span class="n">Date:</span><span class="w"> </span><span class="nx">12/09/2022</span><span class="w">
</span><span class="n">Time:</span><span class="w"> </span><span class="nx">10:45:01</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">User:</span><span class="w"> </span><span class="nx">N/A</span><span class="w">
</span><span class="n">Computer:</span><span class="w"> </span><span class="nx">MyComputer</span><span class="w">
</span><span class="n">Description:</span><span class="w">
</span><span class="nx">The</span><span class="w"> </span><span class="nx">installation</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">MyApplication</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">failed.</span><span class="w">
</span></code></pre></div></div> <p>Windows OS has an in-built application that allows to access historical records of events that happen. It is an utility that displays detailed information about significant events from the system, security and general applications. Windows event viewer can be accessed using the command:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span><span class="w">
</span><span class="c"># graphic</span><span class="w">
</span><span class="n">eventvwr</span><span class="w">

</span><span class="c">#</span><span class="w">
</span><span class="c"># command-line</span><span class="w">
</span><span class="n">eventquery</span><span class="w"> </span><span class="nx">/l</span><span class="w"> </span><span class="nx">Application</span><span class="w">
</span></code></pre></div></div> <hr> <p><strong>In Linux</strong>, the log files are stored in:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/var/log
</code></pre></div></div> <p>All file logs in Linux are created in that directory by default. Between those files, there are some important ones:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># file contains all authentication (log in). This is usually attempted</span>
<span class="c"># either remotely or on the system itself (i.e., accessing another user after logging in).</span>
<span class="nb">tail</span> /var/log/auth.log

Dec  9 10:00:00 <span class="nb">hostname </span>sshd[12345]: Accepted password <span class="k">for </span>username from 192.0.2.1 port 12345 ssh2
Dec  9 10:00:01 <span class="nb">hostname </span>sshd[12345]: pam_unix<span class="o">(</span>sshd:session<span class="o">)</span>: session opened <span class="k">for </span>user username by <span class="o">(</span><span class="nv">uid</span><span class="o">=</span>0<span class="o">)</span>
Dec  9 10:00:02 <span class="nb">hostname </span>sshd[12345]: pam_unix<span class="o">(</span>sshd:session<span class="o">)</span>: session closed <span class="k">for </span>user username
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c">#</span>
<span class="nb">tail</span> /var/log/secure

Dec  9 10:00:00 <span class="nb">hostname </span>sshd[12345]: Received disconnect from 192.0.2.1: 11: Bye Bye <span class="o">[</span>preauth]
Dec  9 10:00:01 <span class="nb">hostname </span>kernel: imklog 4.8.10, log <span class="nb">source</span> <span class="o">=</span> /proc/kmsg started.
Dec  9 10:00:02 <span class="nb">hostname </span>rsyslogd: <span class="o">[</span>origin <span class="nv">software</span><span class="o">=</span><span class="s2">"rsyslogd"</span> <span class="nv">swVersion</span><span class="o">=</span><span class="s2">"8.24.0"</span> x-pid<span class="o">=</span><span class="s2">"12345"</span> x-info<span class="o">=</span><span class="s2">"http://www.rsyslog.com"</span><span class="o">]</span> start
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c">#</span>
<span class="nb">tail</span> /var/log/firewall.log

Dec  9 10:00:00 <span class="nb">hostname </span>kernel: <span class="o">[</span>UFW BLOCK] <span class="nv">IN</span><span class="o">=</span>eth0 <span class="nv">OUT</span><span class="o">=</span> <span class="nv">MAC</span><span class="o">=</span>01:23:45:67:89:ab:01:23:45:67:89:ab:01:23:45:67 <span class="nv">SRC</span><span class="o">=</span>192.0.2.1 <span class="nv">DST</span><span class="o">=</span>192.0.2.2 <span class="nv">LEN</span><span class="o">=</span>40 <span class="nv">TOS</span><span class="o">=</span>0x00 <span class="nv">PREC</span><span class="o">=</span>0x00 <span class="nv">TTL</span><span class="o">=</span>64 <span class="nv">ID</span><span class="o">=</span>12345 DF <span class="nv">PROTO</span><span class="o">=</span>TCP <span class="nv">SPT</span><span class="o">=</span>12345 <span class="nv">DPT</span><span class="o">=</span>22 <span class="nv">WINDOW</span><span class="o">=</span>5840 <span class="nv">RES</span><span class="o">=</span>0x00 SYN <span class="nv">URGP</span><span class="o">=</span>0
Dec  9 10:00:01 <span class="nb">hostname </span>kernel: <span class="o">[</span>UFW ALLOW] <span class="nv">IN</span><span class="o">=</span>eth0 <span class="nv">OUT</span><span class="o">=</span> <span class="nv">MAC</span><span class="o">=</span>01:23:45:67:89:ab:01:23:45:67:89:ab:01:23:45:67 <span class="nv">SRC</span><span class="o">=</span>192.0.2.1 <span class="nv">DST</span><span class="o">=</span>192.0.2.2 <span class="nv">LEN</span><span class="o">=</span>40 <span class="nv">TOS</span><span class="o">=</span>0x00 <span class="nv">PREC</span><span class="o">=</span>0x00 <span class="nv">TTL</span><span class="o">=</span>64 <span class="nv">ID</span><span class="o">=</span>12345 DF <span class="nv">PROTO</span><span class="o">=</span>TCP <span class="nv">SPT</span><span class="o">=</span>12345 <span class="nv">DPT</span><span class="o">=</span>22 <span class="nv">WINDOW</span><span class="o">=</span>5840 <span class="nv">RES</span><span class="o">=</span>0x00 SYN <span class="nv">URGP</span><span class="o">=</span>0
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># contains all events related to package management on the system.</span>
<span class="c"># When installing a new software (a package), this is logged in this file. </span>
<span class="c"># This is useful for debugging or reverting changes in case this installation</span>
<span class="c"># causes unintended behavior on the system.</span>
<span class="nb">tail</span> /var/log/dpkg.log

Dec  9 10:00:00 <span class="nb">hostname </span>dpkg: status database area is locked by another process
Dec  9 10:00:01 <span class="nb">hostname </span>dpkg: starting package configuring
Dec  9 10:00:02 <span class="nb">hostname </span>dpkg: package libc6:amd64 successfully configured
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># contains all events related to things happening in the system's background.</span>
<span class="c"># For example, crontabs executing, services starting and stopping, or other </span>
<span class="c"># automatic behaviors such as log rotation. This file can help debug problems.</span>
<span class="nb">tail</span> /var/log/syslog

Dec  9 10:00:00 <span class="nb">hostname </span>kernel: <span class="o">[</span>  123.456456] init: Unable to open <span class="s1">'/dev/console'</span>: No such file or directory
Dec  9 10:00:01 <span class="nb">hostname </span>kernel: <span class="o">[</span>  123.456879] init: Could not open the file <span class="s1">'/usr/share/systemd/test/test-timeout.sh'</span>
Dec  9 10:00:02 <span class="nb">hostname </span>kernel: <span class="o">[</span>  123.457301] init: Failed to create directory <span class="s1">'/usr/share/systemd/system-generators/test'</span>: No such file or directory
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># contains all events related to kernel events on the system. </span>
<span class="c"># For example, changes to the kernel, or output from devices </span>
<span class="c"># such as networking equipment or physical devices such as USB devices.</span>
/var/log/kern.log

Dec  9 10:00:00 <span class="nb">hostname </span>kernel: <span class="o">[</span>12345.67890] init: Failed to create directory <span class="s1">'/var/lib/systemd/system'</span>: No such file or directory
Dec  9 10:00:01 <span class="nb">hostname </span>kernel: <span class="o">[</span>12345.67901] init: Could not open the file <span class="s1">'/var/lib/systemd/test/test-timeout.sh'</span>
Dec  9 10:00:02 <span class="nb">hostname </span>kernel: <span class="o">[</span>12345.67912] init: Failed to create directory <span class="s1">'/var/lib/systemd/system-generators/test'</span>: No such file or directory
</code></pre></div></div> <p>Another important group of log files are those that are created by other applications such databases, webservices, file and print services, and so on. It’s common to have to analyze application logs and, by default, they’are organize in the same root directory. Next some examples:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># MySQL log shows the version of DB, port to connect, and the directory of mysql.sock file, which is a Unix file responsible for communication (ICP), inter-process communication.</span>
<span class="c"># The file log registers the shutdown event.</span>
<span class="nb">tail</span> /var/log/mysql/mysql.log

<span class="o">[</span>2022-12-09 10:00:00] <span class="o">[</span>MY-010101] <span class="o">[</span>Server] /usr/sbin/mysqld: ready <span class="k">for </span>connections.
Version: <span class="s1">'8.0.22'</span>  socket: <span class="s1">'/var/lib/mysql/mysql.sock'</span>  port: 3306  MySQL Community Server - GPL.
<span class="o">[</span>2022-12-09 10:00:01] <span class="o">[</span>MY-010597] <span class="o">[</span>Server] /usr/sbin/mysqld: Normal shutdown.
<span class="o">[</span>2022-12-09 10:00:02] <span class="o">[</span>MY-010226] <span class="o">[</span>Server] InnoDB: Starting shutdown...
<span class="o">[</span>2022-12-09 10:00:03] <span class="o">[</span>MY-010347] <span class="o">[</span>Server] InnoDB: Shutdown completed<span class="p">;</span> log sequence number 0<span class="p">;</span> transaction <span class="nb">id </span>0
<span class="o">[</span>2022-12-09 10:00:04] <span class="o">[</span>MY-010910] <span class="o">[</span>Server] /usr/sbin/mysqld: Shutdown <span class="nb">complete</span>
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># a SMBclient program connecting to a server, </span>
<span class="c"># negotiating the dialect to use for communication, </span>
<span class="c"># and then listing the contents of a directory on the server.</span>
<span class="nb">tail</span> /var/log/samba/samba.log

<span class="o">[</span>2022-12-09 10:00:00] <span class="o">[</span>SMBCLIENT] Opening connection to SERVERNAME as user USERNAME
<span class="o">[</span>2022-12-09 10:00:01] <span class="o">[</span>SMBCLIENT] Connected.
<span class="o">[</span>2022-12-09 10:00:02] <span class="o">[</span>SMBCLIENT] Negotiating dialect.
<span class="o">[</span>2022-12-09 10:00:03] <span class="o">[</span>SMBCLIENT] Dialect negotiated.
<span class="o">[</span>2022-12-09 10:00:04] <span class="o">[</span>SMBCLIENT] Listing directory /share/directory1/
<span class="o">[</span>2022-12-09 10:00:05] <span class="o">[</span>SMBCLIENT] Closing connection to SERVERNAME
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c"># /var/log/apache2/</span>
<span class="c"># Access login page, log in, and it is redirected to the main page, </span>
<span class="c"># and start to get the resources.</span>
<span class="nb">tail</span> <span class="s1">'/var/log/apache2/access.log'</span>

127.0.0.1 - - <span class="o">[</span>09/Dec/2022:15:00:01 +0000] <span class="s2">"GET /login HTTP/1.1"</span> 200 1412 <span class="s2">"-"</span> <span class="s2">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span>
127.0.0.1 - - <span class="o">[</span>09/Dec/2022:15:00:23 +0000] <span class="s2">"POST /login HTTP/1.1"</span> 302 - <span class="s2">"http://localhost/login"</span> <span class="s2">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span>
127.0.0.1 - - <span class="o">[</span>09/Dec/2022:15:00:23 +0000] <span class="s2">"GET /home HTTP/1.1"</span> 200 2342 <span class="s2">"http://localhost/login"</span> <span class="s2">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span>
127.0.0.1 - - <span class="o">[</span>09/Dec/2022:15:00:31 +0000] <span class="s2">"GET /image1.png HTTP/1.1"</span> 200 3189 <span class="s2">"http://localhost/home"</span> <span class="s2">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span>
127.0.0.1 - - <span class="o">[</span>09/Dec/2022:15:00:40 +0000] <span class="s2">"GET /image2.png HTTP/1.1"</span> 200 4982 <span class="s2">"http://localhost/home"</span> <span class="s2">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"</span>
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#</span>
<span class="c">#</span>
<span class="nb">tail</span> /var/log/vsftpd.log

Dec  9 10:00:00 ftp.example.com vsftpd[12345]: Connected from client1.example.com[192.0.2.1]
Dec  9 10:00:01 ftp.example.com vsftpd[12345]: USER username: Login successful.
Dec  9 10:00:02 ftp.example.com vsftpd[12345]: Connected from client2.example.com[192.0.2.2]
Dec  9 10:00:03 ftp.example.com vsftpd[12345]: USER username: Login successful.
Dec  9 10:00:04 ftp.example.com vsftpd[12345]: Listing directory /home/username/
Dec  9 10:00:05 ftp.example.com vsftpd[12345]: Disconnected from client1.example.com[192.0.2.1]
Dec  9 10:00:06 ftp.example.com vsftpd[12345]: Disconnected from client2.example.com[192.0.2.2]
</code></pre></div></div> <h3 id="siem-and-unix-based-tools">SIEM and Unix-based tools</h3> <p>SIEM stands for Security Information and Event Management. It is a type of software used to collect, store, analyze, and report on log data from multiple sources. SIEM helps organizations to monitor their IT environment for security threats, detect suspicious activity, and take corrective action. It can also be used to track user activity for compliance purposes. The two most common applications are: Splunk and ELK Stack.</p> <p>In Unix-based OS, there are very important tools to handle text files and for that log files as well. Some examples are:</p> <ul> <li>tail, <a href="/blog/2023/tail-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>head, <a href="/blog/2023/head-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>less, <a href="/blog/2023/less-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>grep, <a href="/blog/2023/grep-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>egrep, <a href="/blog/2023/egrep-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>fgrep, <a href="/blog/2023/fgrep-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>find, <a href="/blog/2023/find-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>locate, <a href="/blog/2023/locate-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>awk, <a href="/blog/2023/awk-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>touch, <a href="/blog/2023/touch-cheatsheet/" target="_blank">my cheatsheet</a>;</li> <li>echo, <a href="/blog/2023/echo-cheatsheet/" target="_blank">my cheatsheet</a>;</li> </ul> <h2 id="references">References</h2> <h3 id="thm-resources">THM resources</h3> <p><a href="https://tryhackme.com/room/splunk101" target="_blank" rel="external nofollow noopener">Splunk 101</a>.</p> <p><a href="https://tryhackme.com/room/splunk201" target="_blank" rel="external nofollow noopener">Splunk 201</a>.</p> <p><a href="https://tryhackme.com/room/introtosiem" target="_blank" rel="external nofollow noopener">Intro SIEM</a>.</p> <p><a href="https://tryhackme.com/room/linuxfundamentalspart1" target="_blank" rel="external nofollow noopener">Linux Fundamental 1</a>.</p> <p><a href="https://tryhackme.com/room/linuxfundamentalspart3" target="_blank" rel="external nofollow noopener">Linux Fundamental 2</a>.</p> <p><a href="https://tryhackme.com/room/linuxfundamentalspart2" target="_blank" rel="external nofollow noopener">Linux Fundamental 3</a>.</p> <p><a href="https://tryhackme.com/room/linuxmodules" target="_blank" rel="external nofollow noopener">Linux Modules</a>.</p> <h3 id="other-references">other references</h3> <p><a href="https://www.splunk.com/" target="_blank" rel="external nofollow noopener">Splunk</a>.</p> <p><a href="https://www.elastic.co/what-is/elk-stack" target="_blank" rel="external nofollow noopener">ELK Stack</a>.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Philipe Fransozi. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: June 25, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>